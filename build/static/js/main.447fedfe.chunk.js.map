{"version":3,"sources":["styles/global.js","store/modules/cart/actions.js","store/modules/products/actions.js","services/api.js","utils/format.tsx","components/GridPlaceholder/GridPlaceholder.js","pages/Home/home_Styles.js","pages/Home/index.js","pages/Home/home.js","pages/Cart/Cart_Styles.js","pages/Cart/index.js","pages/Cart/Cart.js","routes.js","components/Header/Header_Styles.js","components/Header/index.js","components/Header/Header.js","store/modules/rootReduce.js","store/modules/cart/reduce.js","store/modules/products/reducer.js","services/history.js","store/modules/cart/saga.js","store/modules/rootSaga.js","store/index.js","App.js","index.js","assets/images/background.svg","assets/images/lovo.svg"],"names":["createGlobalStyle","background","updateAmountRequest","id","amount","type","updateAmountSuccess","storeProducts","products","setProductStatus","status","api","axios","create","baseURL","formatPrice","Intl","NumberFormat","style","currency","format","GridPlaceholder","repeatCount","howMany","Array","from","keys","map","placeholder","key","alignSelf","height","width","display","justifyContent","alignItems","flex","color","highlightColor","defaultProps","ProductList","styled","ul","lighten","darken","Home","useSelector","state","cart","reduce","sumAmount","product","dispatch","useDispatch","useEffect","a","get","response","data","priceFormatted","price","loading","ProductActions","loadProducts","src","image","alt","title","onClick","CartActions","size","Container","main","EmptyCart","section","StartShopping","Link","ProductTable","table","Total","div","Cart","total","totalAmount","subtotal","length","to","decrement","readOnly","value","increment","Routes","exact","path","component","header","Header","cartSize","p","logo","combineReducers","action","produce","draft","push","productIndex","findIndex","splice","Number","history","createBrowserHistory","addToCart","updateAmount","put","select","find","productExists","call","stock","stockAmount","currentAmount","toast","error","all","takeLatest","rootSaga","sagaMiddleware","createSagaMiddleware","sagaMonitor","enhancer","applyMiddleware","store","createStore","rootReducer","run","App","autoClose","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.447fedfe.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport background from '../assets/images/background.svg';\r\n\r\nexport default createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap');\r\n\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  html, body {\r\n    height: 100vh;\r\n    overflow: auto;\r\n  }\r\n\r\n  body {\r\n    background: linear-gradient(-45deg, rgba(68,194,238,1) 0%, rgba(61,180,216,1) 100%);\r\n    -webkit-font-smoothing: antialiased;\r\n    color: #333;\r\n    position: relative;\r\n\r\n    &::before {\r\n      content: '';\r\n      top: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      position: absolute;\r\n      background: url(${background}) no-repeat center -60px/101vw;\r\n      z-index: -5;\r\n\r\n      @media (max-width: 1200px) {\r\n        background: url(${background}) no-repeat center top;\r\n      }\r\n\r\n    }\r\n\r\n    &, input, button {\r\n      font: 14px 'Ubuntu', -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\r\n    }\r\n\r\n  }\r\n\r\n  #root{\r\n    max-width: 1020px;\r\n    margin: 0 auto;\r\n    padding: 0 20px 20px;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n","export function addToCartRequest(id) {\r\n    return {\r\n      type: '@cart/ADD_REQUEST',\r\n      id,\r\n    };\r\n  }\r\n  \r\n  export function addToCartSuccess(product) {\r\n    return {\r\n      type: '@cart/ADD_SUCCESS',\r\n      product,\r\n    };\r\n  }\r\n  \r\n  export function removeFromCart(id) {\r\n    return {\r\n      type: '@cart/REMOVE',\r\n      id,\r\n    };\r\n  }\r\n  \r\n  export function updateAmountRequest(id, amount) {\r\n    return {\r\n      type: '@cart/UPDATE_AMOUNT_REQUEST',\r\n      id,\r\n      amount,\r\n    };\r\n  }\r\n  \r\n  export function updateAmountSuccess(id, amount) {\r\n    return {\r\n      type: '@cart/UPDATE_AMOUNT_SUCCESS',\r\n      id,\r\n      amount,\r\n    };\r\n  }\r\n  ","export function storeProducts(products) {\r\n    return {\r\n      type: '@products/STORE_PRODUCTS',\r\n      products,\r\n    };\r\n  }\r\n  \r\n  export function setProductStatus(id, status) {\r\n    return {\r\n      type: '@products/SET_PRODUCT_STATUS',\r\n      id,\r\n      status,\r\n    };\r\n  }\r\n  ","import axios from 'axios';\r\n\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3000',\r\n});\r\n\r\nexport default api;\r\n\r\n\r\n// npm install -g json-server      cria servidor json\r\n//json-server --watch server.json  starta o servidor","export const { format: formatPrice } = new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  });\r\n  ","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\r\n\r\nexport default function GridPlaceholder({ repeatCount }) {\r\n  const howMany = Array.from(Array(repeatCount).keys());\r\n  return (\r\n    <>\r\n      {howMany.map(placeholder => (\r\n        <li key={placeholder}>\r\n          <figure style={{ alignSelf: 'center' }}>\r\n            <Skeleton height={249} />\r\n          </figure>\r\n          <strong>\r\n            <Skeleton width={220} />\r\n            <Skeleton width={150} />\r\n          </strong>\r\n          <div>\r\n            <span>\r\n              <Skeleton width={100} />\r\n            </span>\r\n            <button type=\"button\">\r\n              {/* <SkeletonTheme color=\"#7159c1\" highlightColor=\"#444\">\r\n                <Skeleton width={26} />\r\n              </SkeletonTheme> */}\r\n\r\n              <span style={{ height: 40, display: 'flex', justifyContent: 'center', alignItems: 'center', flex: 1 }}>\r\n                <SkeletonTheme color=\"#997df5\" highlightColor=\"#8a6cea\">\r\n                  <Skeleton width={92} />\r\n                </SkeletonTheme>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nGridPlaceholder.propTypes = {\r\n  repeatCount: PropTypes.number,\r\n};\r\n\r\nGridPlaceholder.defaultProps = {\r\n  repeatCount: 1,\r\n};\r\n","import styled from 'styled-components';\r\nimport { darken, lighten } from 'polished';\r\n\r\nexport const ProductList = styled.ul`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-gap: 20px;\r\n  list-style-type: none;\r\n\r\n  @media (max-width: 945px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  @media (max-width: 490px) {\r\n    grid-template-columns: repeat(1, 1fr);\r\n  }\r\n\r\n  li {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n\r\n    &:hover figure img {\r\n      opacity: 0.9;\r\n    }\r\n\r\n    figure {\r\n      display: flex;\r\n      justify-content: center;\r\n      position: relative;\r\n      width: 100%;\r\n      max-height: 250px;\r\n      padding-top: 91%;\r\n      text-align: center;\r\n\r\n      @media (max-width: 490px) {\r\n        padding-top: 60%;\r\n      }\r\n\r\n      img,\r\n      span {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n        max-height: 100%;\r\n        margin: auto;\r\n        transition: opacity 150ms ease-in-out;\r\n      }\r\n    }\r\n\r\n    > strong {\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-top: 5px;\r\n\r\n      + div {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-top: auto;\r\n\r\n        > span {\r\n          font-size: 21px;\r\n          font-weight: bold;\r\n          margin: 5px 0 20px;\r\n        }\r\n\r\n        button {\r\n          background: #44C2E8;\r\n          color: #fff;\r\n          border: 0;\r\n          border-radius: 4px;\r\n          overflow: hidden;\r\n          position: relative;\r\n\r\n          display: flex;\r\n          align-items: center;\r\n          transition: 180ms ease-in-out;\r\n\r\n          &:hover {\r\n            background: ${lighten(0.04, '#3DB4D8')};\r\n          }\r\n\r\n          &:active {\r\n            background: ${darken(0.04, '#3DB4D8')};\r\n          }\r\n\r\n          > div:first-child {\r\n            display: flex;\r\n            align-items: center;\r\n            padding: 12px;\r\n            background: rgba(0, 0, 0, 0.1);\r\n            position: absolute;\r\n\r\n            @media (max-width: 680px) {\r\n              position: initial;\r\n            }\r\n\r\n            @media (max-width: 490px) {\r\n              position: absolute;\r\n            }\r\n\r\n            @media (max-width: 360px) {\r\n              position: initial;\r\n            }\r\n\r\n            svg {\r\n              margin: 0 5px;\r\n            }\r\n          }\r\n\r\n          > span:nth-child(2) {\r\n            padding: 12px;\r\n            flex: 1;\r\n            text-align: center;\r\n            font-weight: bold;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import Home from './home';\r\n\r\nexport default Home;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { MdAddShoppingCart } from 'react-icons/md';\r\nimport Loader from 'react-loader-spinner';\r\nimport * as CartActions from '../../store/modules/cart/actions';\r\nimport * as ProductActions from '../../store/modules/products/actions';\r\nimport api from '../../services/api';\r\nimport { formatPrice } from '../../utils/format';\r\nimport GridPlaceholder from '../../components/GridPlaceholder/GridPlaceholder';\r\nimport { ProductList } from './home_Styles';\r\n\r\nexport default function Home() {\r\n  const products = useSelector(state => state.products);\r\n\r\n  const amount = useSelector(state =>\r\n    state.cart.reduce((sumAmount, product) => {\r\n      sumAmount[product.id] = product.amount;\r\n\r\n      return sumAmount;\r\n    }, {})\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    async function loadProducts() {\r\n      const response = await api.get('products');\r\n\r\n      const data = response.data.map(product => ({\r\n        ...product,\r\n        priceFormatted: formatPrice(product.price),\r\n        loading: false,\r\n      }));\r\n\r\n      dispatch(ProductActions.storeProducts(data));\r\n    }\r\n\r\n    loadProducts();\r\n  }, [dispatch]);\r\n\r\n  function handleAddProduct(id) {\r\n    dispatch(CartActions.addToCartRequest(id));\r\n  }\r\n\r\n  return (\r\n    <ProductList>\r\n      {products === null ? (\r\n        <GridPlaceholder repeatCount={6} />\r\n      ) : (\r\n        products.map(product => (\r\n          <li key={product.id}>\r\n            <figure>\r\n              <img src={product.image} alt={product.title} />\r\n            </figure>\r\n            <strong>{product.title}</strong>\r\n\r\n            <div>\r\n              <span>{product.priceFormatted}</span>\r\n\r\n              <button type=\"button\" onClick={() => handleAddProduct(product.id)}>\r\n                {product.loading ? (\r\n                  <Loader type=\"Oval\" color=\"#FFF\" height={16} width={24} />\r\n                ) : (\r\n                  <div>\r\n                    <MdAddShoppingCart size={16} color=\"#FFF\" />\r\n                    {amount[product.id] || 0}\r\n                  </div>\r\n                )}\r\n\r\n                <span>COMPRAR</span>\r\n              </button>\r\n            </div>\r\n          </li>\r\n        ))\r\n      )}\r\n    </ProductList>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { darken, lighten } from 'polished';\r\n\r\nexport const Container = styled.main`\r\n  padding: 30px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    @media (max-width: 520px) {\r\n      flex-direction: column-reverse;\r\n    }\r\n\r\n    button {\r\n      background: #44C2E8;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      padding: 12px 20px;\r\n      font-weight: bold;\r\n      text-transform: uppercase;\r\n      transition: background 180ms ease-in-out;\r\n\r\n      @media (max-width: 520px) {\r\n        margin-top: 20px;\r\n        width: 100%;\r\n        padding: 20px;\r\n      }\r\n\r\n      &:hover {\r\n        background: ${darken(0.04, '#44C2E8')};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const EmptyCart = styled.section`\r\n  min-height: 600px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  @media (max-width: 560px) {\r\n    min-height: 400px;\r\n  }\r\n\r\n  svg {\r\n    font-size: 260px;\r\n    color: #f3f3f6;\r\n    position: absolute;\r\n  }\r\n\r\n  div {\r\n    z-index: 1;\r\n    text-align: center;\r\n\r\n    h2 {\r\n      font-size: 56px;\r\n    }\r\n\r\n    p {\r\n      margin: 12px 0 28px;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StartShopping = styled(Link)`\r\n    background: #44C2E8;\r\n    color: #fff;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    padding: 12px 20px;\r\n    font-weight: bold;\r\n    text-transform: uppercase;\r\n    transition: background 180ms ease-in-out;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n\r\n    &:hover {\r\n      background: ${lighten(0.04, '#44C2E8')};\r\n    }\r\n\r\n    &:active {\r\n      background: ${darken(0.04, '#44C2E8')};\r\n    }\r\n`;\r\n\r\nexport const ProductTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n\r\n  thead {\r\n    @media (max-width: 640px) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  thead th {\r\n    color: #999;\r\n    text-align: left;\r\n    padding: 12px;\r\n\r\n    &:nth-child(3) {\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  tbody tr {\r\n    border-bottom: 1px solid #eee;\r\n    @media (max-width: 640px) {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-items: center;\r\n    }\r\n  }\r\n\r\n  tbody td {\r\n    padding: 12px;\r\n\r\n    &:first-child {\r\n      @media (max-width: 640px) {\r\n        padding-left: 0;\r\n        padding-bottom: 0;\r\n      }\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      @media (max-width: 640px) {\r\n        flex: 1 1 60%;\r\n      }\r\n\r\n      @media (max-width: 385px) {\r\n        flex: 1;\r\n      }\r\n\r\n      span {\r\n        @media (max-width: 640px) {\r\n          font-size: 14px;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n\r\n    &:nth-child(3),\r\n    &:nth-child(4),\r\n    &:nth-child(5) {\r\n      @media (max-width: 640px) {\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n      }\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      @media (max-width: 640px) {\r\n        padding: 0;\r\n      }\r\n\r\n      @media (max-width: 356px) {\r\n        flex: 1;\r\n\r\n        div {\r\n          justify-content: flex-start;\r\n        }\r\n      }\r\n    }\r\n\r\n    &:nth-child(4) {\r\n      @media (max-width: 640px) {\r\n        flex: 1;\r\n        text-align: center;\r\n        font-size: 16px;\r\n      }\r\n\r\n      @media (max-width: 356px) {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    &:nth-child(5) {\r\n      @media (max-width: 640px) {\r\n        padding: 12px 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  img {\r\n    height: 100px;\r\n  }\r\n\r\n  strong {\r\n    display: block;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    margin-top: 4px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    input {\r\n      border: 1px solid #ddd;\r\n      border-radius: 3px;\r\n      color: #666;\r\n      padding: 6px;\r\n      width: 50px;\r\n      text-align: center;\r\n\r\n      @media (max-width: 640px) {\r\n        width: 36px;\r\n      }\r\n    }\r\n  }\r\n\r\n  button {\r\n    background: none;\r\n    border: 0;\r\n    padding: 6px 8px;\r\n\r\n    svg {\r\n      @media (max-width: 640px) {\r\n        width: 24px;\r\n        height: 24px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #999;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    font-size: 28px;\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n","import Cart from './Cart';\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MdRemoveCircleOutline, MdAddCircleOutline, MdDelete, MdRemoveShoppingCart } from 'react-icons/md';\r\nimport * as CartActions from '../../store/modules/cart/actions';\r\nimport { formatPrice } from '../../utils/format';\r\nimport { Container, ProductTable, Total, EmptyCart, StartShopping } from './Cart_Styles';\r\n\r\nexport default function Cart() {\r\n  const total = useSelector(state =>\r\n    formatPrice(\r\n      state.cart.reduce((totalAmount, product) => {\r\n        return totalAmount + product.price * product.amount;\r\n      }, 0)\r\n    )\r\n  );\r\n\r\n  const cart = useSelector(state =>\r\n    state.cart.map(product => ({\r\n      ...product,\r\n      subtotal: formatPrice(product.price * product.amount),\r\n    }))\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function increment(product) {\r\n    dispatch(CartActions.updateAmountRequest(product.id, product.amount + 1));\r\n  }\r\n\r\n  function decrement(product) {\r\n    dispatch(CartActions.updateAmountRequest(product.id, product.amount - 1));\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {cart.length === 0 ? (\r\n        <EmptyCart>\r\n          <MdRemoveShoppingCart />\r\n\r\n          <div>\r\n            <h2>Oops...</h2>\r\n            <p>Looks like your shopping cart is empty!</p>\r\n            <StartShopping to=\"/\">Start Shopping</StartShopping>\r\n          </div>\r\n        </EmptyCart>\r\n      ) : (\r\n        <>\r\n          <ProductTable>\r\n            <thead>\r\n              <tr>\r\n                <th />\r\n                <th>PRODUCT</th>\r\n                <th>AMOUNT</th>\r\n                <th>SUBTOTAL</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {cart.map(product => (\r\n                <tr key={product.id}>\r\n                  <td>\r\n                    <figure>\r\n                      <img src={product.image} alt={product.title} />\r\n                    </figure>\r\n                  </td>\r\n                  <td>\r\n                    <strong>{product.title}</strong>\r\n                    <span>{product.priceFormatted}</span>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <button type=\"button\" onClick={() => decrement(product)}>\r\n                        <MdRemoveCircleOutline size={20} color=\"#44C2E8\" />\r\n                      </button>\r\n                      <input type=\"text\" readOnly value={product.amount} />\r\n                      <button type=\"button\" onClick={() => increment(product)}>\r\n                        <MdAddCircleOutline size={20} color=\"#44C2E8\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <strong>{product.subtotal}</strong>\r\n                  </td>\r\n                  <td>\r\n                    <button type=\"button\" onClick={() => dispatch(CartActions.removeFromCart(product.id))}>\r\n                      <MdDelete size={20} color=\"#44C2E8\" />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </ProductTable>\r\n\r\n          <footer>\r\n            <button type=\"submit\">Proceed to Checkout</button>\r\n            <Total>\r\n              <span>TOTAL:</span>\r\n              <strong>{total}</strong>\r\n            </Total>\r\n          </footer>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport Home from './pages/Home';\r\nimport Cart from './pages/Cart';\r\n\r\n\r\nexport default function Routes() {\r\n    return(\r\n        <Switch>\r\n            <Route exact path = \"/\" component = {Home} />\r\n            <Route path = \"/cart\" component = {Cart} />\r\n        </Switch>\r\n    )\r\n}","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Container = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 25px 0;\r\n\r\n  > a figure img {\r\n    width: 100%;\r\n    max-width: 275px;\r\n  }\r\n`;\r\n\r\nexport const Cart = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  transition: opacity 150ms ease-in-out;\r\n  position: relative;\r\n\r\n  @media (max-width: 430px) {\r\n    margin-left: 16px;\r\n  }\r\n  /* &:hover {\r\n    opacity: 0.7;\r\n  } */\r\n\r\n  > svg {\r\n    :hover{\r\n      fill: #3DB4D8;\r\n    }\r\n  }\r\n\r\n  & div {\r\n    text-align: right;\r\n    margin-right: 10px;\r\n\r\n    @media (max-width: 430px) {\r\n      display: none;\r\n    }\r\n\r\n    & strong {\r\n      display: block;\r\n      color: #fff;\r\n    }\r\n\r\n    & span {\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n\r\n  > span:last-child {\r\n    background: #44C2E8;\r\n    color: #fff;\r\n    font-size: 11px;\r\n    line-height: 20px;\r\n    text-align: center;\r\n    height: 20px;\r\n    width: 20px;\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    right: -2px;\r\n    top: -6px;\r\n    display: none;\r\n\r\n    @media (max-width: 430px) {\r\n      display: initial;\r\n    }\r\n  }\r\n`;\r\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdShoppingCart } from 'react-icons/md';\r\n\r\nimport { Container, Cart } from './Header_Styles';\r\nimport logo from '../../assets/images/lovo.svg';\r\n\r\nexport default function Header() {\r\n  const cartSize = useSelector(state =>\r\n    state.cart.reduce((total, p) => {\r\n      return total + p.amount;\r\n    }, 0)\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <Link to=\"/\">\r\n        <figure>\r\n          <img src={logo} alt=\"RocketShoes\" />\r\n        </figure>\r\n      </Link>\r\n\r\n      <Cart to=\"/cart\">\r\n        <div>\r\n          <strong>My Cart</strong>\r\n          <span>{cartSize === 1 ? `${cartSize} product` : `${cartSize} products`}</span>\r\n        </div>\r\n        <MdShoppingCart size={36} color=\"#FFF\" />\r\n        <span>{cartSize}</span>\r\n      </Cart>\r\n    </Container>\r\n  );\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport cart from './cart/reduce';\r\nimport products from './products/reducer';\r\n\r\nexport default combineReducers({\r\n  cart,\r\n  products,\r\n});\r\n","import produce from 'immer';\r\n\r\nexport default function cart(state = [], action) {\r\n  switch (action.type) {\r\n    case '@cart/ADD_SUCCESS':\r\n      return produce(state, draft => {\r\n        const { product } = action;\r\n        draft.push(product);\r\n      });\r\n\r\n    case '@cart/REMOVE':\r\n      return produce(state, draft => {\r\n        const productIndex = draft.findIndex(p => p.id === action.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft.splice(productIndex, 1);\r\n        }\r\n      });\r\n\r\n    case '@cart/UPDATE_AMOUNT_SUCCESS': {\r\n      return produce(state, draft => {\r\n        const productIndex = draft.findIndex(p => p.id === action.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft[productIndex].amount = Number(action.amount);\r\n        }\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import produce from 'immer';\r\n\r\nexport default function products(state = null, action) {\r\n  switch (action.type) {\r\n    case '@products/STORE_PRODUCTS':\r\n      return action.products;\r\n\r\n    case '@products/SET_PRODUCT_STATUS': {\r\n      return produce(state, draft => {\r\n        const productIndex = draft.findIndex(p => p.id === action.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft[productIndex].loading = Number(action.status);\r\n        }\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;\r\n","import { call, select, put, all, takeLatest } from 'redux-saga/effects';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport api from '../../../services/api';\r\nimport history from '../../../services/history';\r\nimport { addToCartSuccess, updateAmountSuccess } from './actions';\r\nimport { setProductStatus } from '../products/actions';\r\nimport { formatPrice } from '../../../utils/format';\r\n\r\nfunction* addToCart({ id }) {\r\n  yield put(setProductStatus(id, true));\r\n\r\n  const productExists = yield select(state => state.cart.find(p => p.id === id));\r\n\r\n  const stock = yield call(api.get, `stock/${id}`);\r\n\r\n  const stockAmount = stock.data.amount;\r\n  const currentAmount = productExists ? productExists.amount : 0;\r\n\r\n  const amount = currentAmount + 1;\r\n\r\n  try {\r\n    if (amount > stockAmount) {\r\n      toast.error('Produto fora de estoque');\r\n      return;\r\n    }\r\n\r\n    if (productExists) {\r\n      yield put(updateAmountSuccess(id, amount));\r\n    } else {\r\n      const response = yield call(api.get, `products/${id}`);\r\n\r\n      const data = { ...response.data, amount: 1, priceFormatted: formatPrice(response.data.price) };\r\n\r\n      yield put(addToCartSuccess(data));\r\n      // history.push('/cart');\r\n    }\r\n  } finally {\r\n    yield put(setProductStatus(id, false));\r\n  }\r\n}\r\n\r\nfunction* updateAmount({ id, amount }) {\r\n  if (amount <= 0) return;\r\n\r\n  const stock = yield call(api.get, `stock/${id}`);\r\n  const stockAmount = stock.data.amount;\r\n\r\n  if (amount > stockAmount) {\r\n    toast.error('Quantidade do produto não disponível em estoque');\r\n    return;\r\n  }\r\n\r\n  yield put(updateAmountSuccess(id, amount));\r\n}\r\n\r\nexport default all([\r\n  takeLatest('@cart/ADD_REQUEST', addToCart),\r\n  takeLatest('@cart/UPDATE_AMOUNT_REQUEST', updateAmount),\r\n]);\r\n","import { all } from 'redux-saga/effects';\r\n\r\nimport cart from './cart/saga';\r\n\r\nexport default function* rootSaga() {\r\n  return yield all([cart]);\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from './modules/rootReduce';\r\nimport rootSaga from './modules/rootSaga';\r\n\r\nconst sagaMonitor = process.env.NODE_ENV === 'development' ? console.tron.createSagaMonitor() : null;\r\nconst sagaMiddleware = createSagaMiddleware({\r\n  sagaMonitor,\r\n});\r\n\r\nconst enhancer =\r\n  process.env.NODE_ENV === 'development'\r\n    ? compose(\r\n        console.tron.createEnhancer(),\r\n        applyMiddleware(sagaMiddleware)\r\n      )\r\n    : applyMiddleware(sagaMiddleware);\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { ToastContainer } from 'react-toastify';\nimport GlobalStyles from './styles/global';\n\nimport Routes from './routes';\nimport Header from './components/Header';\n\nimport './config/ReactotronConfig';\nimport store from './store';\nimport history from './services/history';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router history={history}>\n        <GlobalStyles />\n        <ToastContainer autoClose={3000} />\n        <Header />\n        <Routes />\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/background.e2a67d05.svg\";","module.exports = __webpack_public_path__ + \"static/media/lovo.ba534bc3.svg\";"],"sourceRoot":""}