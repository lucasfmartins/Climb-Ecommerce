(this["webpackJsonpreact-ecommerce-web"]=this["webpackJsonpreact-ecommerce-web"]||[]).push([[0],{129:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(17),o=t.n(i),c=t(6),l=t(15),u=t(28),d=t(12),p=t(13),s=(t(75),t(39)),m=t.n(s);function f(){var n=Object(d.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    height: 100vh;\n    overflow: auto;\n  }\n\n  body {\n    background: linear-gradient(-45deg, rgba(68,194,238,1) 0%, rgba(61,180,216,1) 100%);\n    -webkit-font-smoothing: antialiased;\n    color: #333;\n    position: relative;\n\n    &::before {\n      content: '';\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: absolute;\n      background: url(",") no-repeat center -60px/101vw;\n      z-index: -5;\n\n      @media (max-width: 1200px) {\n        background: url(",") no-repeat center top;\n      }\n\n    }\n\n    &, input, button {\n      font: 14px 'Ubuntu', -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n    }\n\n  }\n\n  #root{\n    max-width: 1020px;\n    margin: 0 auto;\n    padding: 0 20px 20px;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n"]);return f=function(){return n},n}var x=Object(p.a)(f(),m.a,m.a),b=t(16),g=t.n(b),h=t(20),E=t(60),v=t(19),y=t(61),O=t.n(y);function w(n,e){return{type:"@cart/UPDATE_AMOUNT_REQUEST",id:n,amount:e}}function j(n,e){return{type:"@cart/UPDATE_AMOUNT_SUCCESS",id:n,amount:e}}function k(n){return{type:"@products/STORE_PRODUCTS",products:n}}function C(n,e){return{type:"@products/SET_PRODUCT_STATUS",id:n,status:e}}var S=t(62),T=t.n(S).a.create({baseURL:"http://localhost:3000"}),U=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format,D=t(25),A=t.n(D);function z(n){var e=n.repeatCount,t=Array.from(Array(e).keys());return r.a.createElement(r.a.Fragment,null,t.map((function(n){return r.a.createElement("li",{key:n},r.a.createElement("figure",{style:{alignSelf:"center"}},r.a.createElement(A.a,{height:249})),r.a.createElement("strong",null,r.a.createElement(A.a,{width:220}),r.a.createElement(A.a,{width:150})),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(A.a,{width:100})),r.a.createElement("button",{type:"button"},r.a.createElement("span",{style:{height:40,display:"flex",justifyContent:"center",alignItems:"center",flex:1}},r.a.createElement(D.SkeletonTheme,{color:"#997df5",highlightColor:"#8a6cea"},r.a.createElement(A.a,{width:92}))))))})))}z.defaultProps={repeatCount:1};var R=t(24);function _(){var n=Object(d.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 20px;\n  list-style-type: none;\n\n  @media (max-width: 945px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 490px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n\n  li {\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 4px;\n    padding: 20px;\n\n    &:hover figure img {\n      opacity: 0.9;\n    }\n\n    figure {\n      display: flex;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      max-height: 250px;\n      padding-top: 91%;\n      text-align: center;\n\n      @media (max-width: 490px) {\n        padding-top: 60%;\n      }\n\n      img,\n      span {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        max-height: 100%;\n        margin: auto;\n        transition: opacity 150ms ease-in-out;\n      }\n    }\n\n    > strong {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 5px;\n\n      + div {\n        display: flex;\n        flex-direction: column;\n        margin-top: auto;\n\n        > span {\n          font-size: 21px;\n          font-weight: bold;\n          margin: 5px 0 20px;\n        }\n\n        button {\n          background: #44C2E8;\n          color: #fff;\n          border: 0;\n          border-radius: 4px;\n          overflow: hidden;\n          position: relative;\n\n          display: flex;\n          align-items: center;\n          transition: 180ms ease-in-out;\n\n          &:hover {\n            background: ",";\n          }\n\n          &:active {\n            background: ",";\n          }\n\n          > div:first-child {\n            display: flex;\n            align-items: center;\n            padding: 12px;\n            background: rgba(0, 0, 0, 0.1);\n            position: absolute;\n\n            @media (max-width: 680px) {\n              position: initial;\n            }\n\n            @media (max-width: 490px) {\n              position: absolute;\n            }\n\n            @media (max-width: 360px) {\n              position: initial;\n            }\n\n            svg {\n              margin: 0 5px;\n            }\n          }\n\n          > span:nth-child(2) {\n            padding: 12px;\n            flex: 1;\n            text-align: center;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n  }\n"]);return _=function(){return n},n}var F=p.b.ul(_(),Object(R.b)(.04,"#3DB4D8"),Object(R.a)(.04,"#3DB4D8"));var P=function(){var n=Object(l.c)((function(n){return n.products})),e=Object(l.c)((function(n){return n.cart.reduce((function(n,e){return n[e.id]=e.amount,n}),{})})),t=Object(l.b)();return Object(a.useEffect)((function(){function n(){return(n=Object(E.a)(g.a.mark((function n(){var e,a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.get("products");case 2:e=n.sent,a=e.data.map((function(n){return Object(h.a)(Object(h.a)({},n),{},{priceFormatted:U(n.price),loading:!1})})),t(k(a));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t]),r.a.createElement(F,null,null===n?r.a.createElement(z,{repeatCount:6}):n.map((function(n){return r.a.createElement("li",{key:n.id},r.a.createElement("figure",null,r.a.createElement("img",{src:n.image,alt:n.title})),r.a.createElement("strong",null,n.title),r.a.createElement("div",null,r.a.createElement("span",null,n.priceFormatted),r.a.createElement("button",{type:"button",onClick:function(){return e=n.id,void t(function(n){return{type:"@cart/ADD_REQUEST",id:n}}(e));var e}},n.loading?r.a.createElement(O.a,{type:"Oval",color:"#FFF",height:16,width:24}):r.a.createElement("div",null,r.a.createElement(v.b,{size:16,color:"#FFF"}),e[n.id]||0),r.a.createElement("span",null,"COMPRAR"))))})))},M=t(21);function B(){var n=Object(d.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #999;\n    font-weight: bold;\n  }\n\n  strong {\n    font-size: 28px;\n    margin-left: 8px;\n  }\n"]);return B=function(){return n},n}function N(){var n=Object(d.a)(["\n  width: 100%;\n  border-collapse: collapse;\n\n  thead {\n    @media (max-width: 640px) {\n      display: none;\n    }\n  }\n\n  thead th {\n    color: #999;\n    text-align: left;\n    padding: 12px;\n\n    &:nth-child(3) {\n      text-align: center;\n    }\n  }\n\n  tbody tr {\n    border-bottom: 1px solid #eee;\n    @media (max-width: 640px) {\n      display: flex;\n      flex-wrap: wrap;\n      align-items: center;\n    }\n  }\n\n  tbody td {\n    padding: 12px;\n\n    &:first-child {\n      @media (max-width: 640px) {\n        padding-left: 0;\n        padding-bottom: 0;\n      }\n    }\n\n    &:nth-child(2) {\n      @media (max-width: 640px) {\n        flex: 1 1 60%;\n      }\n\n      @media (max-width: 385px) {\n        flex: 1;\n      }\n\n      span {\n        @media (max-width: 640px) {\n          font-size: 14px;\n          color: #666;\n        }\n      }\n    }\n\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      @media (max-width: 640px) {\n        padding-top: 0;\n        padding-bottom: 0;\n      }\n    }\n\n    &:nth-child(3) {\n      @media (max-width: 640px) {\n        padding: 0;\n      }\n\n      @media (max-width: 356px) {\n        flex: 1;\n\n        div {\n          justify-content: flex-start;\n        }\n      }\n    }\n\n    &:nth-child(4) {\n      @media (max-width: 640px) {\n        flex: 1;\n        text-align: center;\n        font-size: 16px;\n      }\n\n      @media (max-width: 356px) {\n        display: none;\n      }\n    }\n\n    &:nth-child(5) {\n      @media (max-width: 640px) {\n        padding: 12px 0;\n      }\n    }\n  }\n\n  img {\n    height: 100px;\n  }\n\n  strong {\n    display: block;\n  }\n\n  span {\n    display: block;\n    margin-top: 4px;\n    font-size: 18px;\n    font-weight: bold;\n  }\n\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    input {\n      border: 1px solid #ddd;\n      border-radius: 3px;\n      color: #666;\n      padding: 6px;\n      width: 50px;\n      text-align: center;\n\n      @media (max-width: 640px) {\n        width: 36px;\n      }\n    }\n  }\n\n  button {\n    background: none;\n    border: 0;\n    padding: 6px 8px;\n\n    svg {\n      @media (max-width: 640px) {\n        width: 24px;\n        height: 24px;\n      }\n    }\n  }\n"]);return N=function(){return n},n}function I(){var n=Object(d.a)(["\n    background: #44C2E8;\n    color: #fff;\n    border: 0;\n    border-radius: 4px;\n    padding: 12px 20px;\n    font-weight: bold;\n    text-transform: uppercase;\n    transition: background 180ms ease-in-out;\n    text-decoration: none;\n    display: inline-block;\n\n    &:hover {\n      background: ",";\n    }\n\n    &:active {\n      background: ",";\n    }\n"]);return I=function(){return n},n}function L(){var n=Object(d.a)(["\n  min-height: 600px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n\n  @media (max-width: 560px) {\n    min-height: 400px;\n  }\n\n  svg {\n    font-size: 260px;\n    color: #f3f3f6;\n    position: absolute;\n  }\n\n  div {\n    z-index: 1;\n    text-align: center;\n\n    h2 {\n      font-size: 56px;\n    }\n\n    p {\n      margin: 12px 0 28px;\n      font-size: 16px;\n    }\n  }\n"]);return L=function(){return n},n}function Q(){var n=Object(d.a)(["\n  padding: 30px;\n  background: #fff;\n  border-radius: 4px;\n\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    @media (max-width: 520px) {\n      flex-direction: column-reverse;\n    }\n\n    button {\n      background: #44C2E8;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      padding: 12px 20px;\n      font-weight: bold;\n      text-transform: uppercase;\n      transition: background 180ms ease-in-out;\n\n      @media (max-width: 520px) {\n        margin-top: 20px;\n        width: 100%;\n        padding: 20px;\n      }\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n"]);return Q=function(){return n},n}var q=p.b.main(Q(),Object(R.a)(.04,"#44C2E8")),J=p.b.section(L()),V=Object(p.b)(M.a)(I(),Object(R.b)(.04,"#44C2E8"),Object(R.a)(.04,"#44C2E8")),G=p.b.table(N()),H=p.b.div(B());var K=function(){var n=Object(l.c)((function(n){return U(n.cart.reduce((function(n,e){return n+e.price*e.amount}),0))})),e=Object(l.c)((function(n){return n.cart.map((function(n){return Object(h.a)(Object(h.a)({},n),{},{subtotal:U(n.price*n.amount)})}))})),t=Object(l.b)();return r.a.createElement(q,null,0===e.length?r.a.createElement(J,null,r.a.createElement(v.e,null),r.a.createElement("div",null,r.a.createElement("h2",null,"Oops..."),r.a.createElement("p",null,"Looks like your shopping cart is empty!"),r.a.createElement(V,{to:"/"},"Start Shopping"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"PRODUCT"),r.a.createElement("th",null,"AMOUNT"),r.a.createElement("th",null,"SUBTOTAL"))),r.a.createElement("tbody",null,e.map((function(n){return r.a.createElement("tr",{key:n.id},r.a.createElement("td",null,r.a.createElement("figure",null,r.a.createElement("img",{src:n.image,alt:n.title}))),r.a.createElement("td",null,r.a.createElement("strong",null,n.title),r.a.createElement("span",null,n.priceFormatted)),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){return function(n){t(w(n.id,n.amount-1))}(n)}},r.a.createElement(v.d,{size:20,color:"#44C2E8"})),r.a.createElement("input",{type:"text",readOnly:!0,value:n.amount}),r.a.createElement("button",{type:"button",onClick:function(){return function(n){t(w(n.id,n.amount+1))}(n)}},r.a.createElement(v.a,{size:20,color:"#44C2E8"})))),r.a.createElement("td",null,r.a.createElement("strong",null,n.subtotal)),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){return t({type:"@cart/REMOVE",id:n.id})}},r.a.createElement(v.c,{size:20,color:"#44C2E8"}))))})))),r.a.createElement("footer",null,r.a.createElement("button",{type:"submit"},"Proceed to Checkout"),r.a.createElement(H,null,r.a.createElement("span",null,"TOTAL:"),r.a.createElement("strong",null,n)))))};function W(){return r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:P}),r.a.createElement(c.a,{path:"/cart",component:K}))}function X(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  transition: opacity 150ms ease-in-out;\n  position: relative;\n\n  @media (max-width: 430px) {\n    margin-left: 16px;\n  }\n  /* &:hover {\n    opacity: 0.7;\n  } */\n\n  > svg {\n    :hover{\n      fill: #3DB4D8;\n    }\n  }\n\n  & div {\n    text-align: right;\n    margin-right: 10px;\n\n    @media (max-width: 430px) {\n      display: none;\n    }\n\n    & strong {\n      display: block;\n      color: #fff;\n    }\n\n    & span {\n      font-size: 12px;\n      color: #999;\n    }\n  }\n\n  > span:last-child {\n    background: #44C2E8;\n    color: #fff;\n    font-size: 11px;\n    line-height: 20px;\n    text-align: center;\n    height: 20px;\n    width: 20px;\n    border-radius: 50%;\n    position: absolute;\n    right: -2px;\n    top: -6px;\n    display: none;\n\n    @media (max-width: 430px) {\n      display: initial;\n    }\n  }\n"]);return X=function(){return n},n}function Y(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 25px 0;\n\n  > a figure img {\n    width: 100%;\n    max-width: 275px;\n  }\n"]);return Y=function(){return n},n}var Z=p.b.header(Y()),$=Object(p.b)(M.a)(X()),nn=t(64),en=t.n(nn);var tn=function(){var n=Object(l.c)((function(n){return n.cart.reduce((function(n,e){return n+e.amount}),0)}));return r.a.createElement(Z,null,r.a.createElement(M.a,{to:"/"},r.a.createElement("figure",null,r.a.createElement("img",{src:en.a,alt:"RocketShoes"}))),r.a.createElement($,{to:"/cart"},r.a.createElement("div",null,r.a.createElement("strong",null,"My Cart"),r.a.createElement("span",null,"".concat(n,1===n?" product":" products"))),r.a.createElement(v.f,{size:36,color:"#FFF"}),r.a.createElement("span",null,n)))},an=(t(114),t(127),t(128),t(18)),rn=t(65),on=t(26);var cn=Object(an.c)({cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"@cart/ADD_SUCCESS":return Object(on.a)(n,(function(n){var t=e.product;n.push(t)}));case"@cart/REMOVE":return Object(on.a)(n,(function(n){var t=n.findIndex((function(n){return n.id===e.id}));t>=0&&n.splice(t,1)}));case"@cart/UPDATE_AMOUNT_SUCCESS":return Object(on.a)(n,(function(n){var t=n.findIndex((function(n){return n.id===e.id}));t>=0&&(n[t].amount=Number(e.amount))}));default:return n}},products:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"@products/STORE_PRODUCTS":return e.products;case"@products/SET_PRODUCT_STATUS":return Object(on.a)(n,(function(n){var t=n.findIndex((function(n){return n.id===e.id}));t>=0&&(n[t].loading=Number(e.status))}));default:return n}}}),ln=t(9),un=t(10),dn=Object(un.a)(),pn=g.a.mark(mn),sn=g.a.mark(fn);function mn(n){var e,t,a,r,i,o,c,l;return g.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return e=n.id,d.next=3,Object(ln.put)(C(e,!0));case 3:return d.next=5,Object(ln.select)((function(n){return n.cart.find((function(n){return n.id===e}))}));case 5:return t=d.sent,d.next=8,Object(ln.call)(T.get,"stock/".concat(e));case 8:if(a=d.sent,r=a.data.amount,i=t?t.amount:0,o=i+1,d.prev=12,!(o>r)){d.next=16;break}return u.b.error("Produto fora de estoque"),d.abrupt("return");case 16:if(!t){d.next=21;break}return d.next=19,Object(ln.put)(j(e,o));case 19:d.next=27;break;case 21:return d.next=23,Object(ln.call)(T.get,"products/".concat(e));case 23:return c=d.sent,l=Object(h.a)(Object(h.a)({},c.data),{},{amount:1,priceFormatted:U(c.data.price)}),d.next=27,Object(ln.put)({type:"@cart/ADD_SUCCESS",product:l});case 27:return d.prev=27,d.next=30,Object(ln.put)(C(e,!1));case 30:return d.finish(27);case 31:case"end":return d.stop()}}),pn,null,[[12,,27,31]])}function fn(n){var e,t,a,r;return g.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=n.id,!((t=n.amount)<=0)){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,Object(ln.call)(T.get,"stock/".concat(e));case 5:if(a=i.sent,r=a.data.amount,!(t>r)){i.next=10;break}return u.b.error("Quantidade do produto n\xe3o dispon\xedvel em estoque"),i.abrupt("return");case 10:return i.next=12,Object(ln.put)(j(e,t));case 12:case"end":return i.stop()}}),sn)}var xn=Object(ln.all)([Object(ln.takeLatest)("@cart/ADD_REQUEST",mn),Object(ln.takeLatest)("@cart/UPDATE_AMOUNT_REQUEST",fn)]),bn=g.a.mark(gn);function gn(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ln.all)([xn]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),bn)}var hn=Object(rn.a)({sagaMonitor:null}),En=Object(an.a)(hn),vn=Object(an.e)(cn,En);hn.run(gn);var yn=vn;var On=function(){return r.a.createElement(l.a,{store:yn},r.a.createElement(c.b,{history:dn},r.a.createElement(x,null),r.a.createElement(u.a,{autoClose:3e3}),r.a.createElement(tn,null),r.a.createElement(W,null)))};o.a.render(r.a.createElement(On,null),document.getElementById("root"))},39:function(n,e,t){n.exports=t.p+"static/media/background.e2a67d05.svg"},64:function(n,e,t){n.exports=t.p+"static/media/lovo.ba534bc3.svg"},66:function(n,e,t){n.exports=t(129)}},[[66,1,2]]]);
//# sourceMappingURL=main.447fedfe.chunk.js.map